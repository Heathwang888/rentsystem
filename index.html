<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>手機租賃後台系統</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- 側邊欄 -->
  <div class="sidebar">
    <button data-page="dashboard">📊 總覽</button>
    <button data-page="list">📁 客戶列表</button>
    <button data-page="add">➕ 新增客戶</button>
    <button data-page="edit">✏️ 編輯客戶</button>
    <button data-page="contract">📄 合約產製</button>
  </div>

  <!-- 主要頁面區 -->
  <div class="page-content">
    <!-- 總覽頁 -->
    <div id="dashboard" class="page active">
      <h2>這是總覽頁</h2>
    </div>

    <!-- 客戶列表 -->
    <div id="list" class="page">
      <div class="filter-bar">
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">全部</button>
          <button class="filter-btn" data-filter="renting">租賃中</button>
          <button class="filter-btn" data-filter="buyback">已買回</button>
          <button class="filter-btn" data-filter="locked">呆帳</button>
        </div>
      </div>

      <div class="customer-list">
        <!-- 客戶卡片會由 JavaScript 動態生成 -->
      </div>
    </div>

    <!-- 新增客戶 -->
    <div id="add" class="page">
      <h2>新增客戶</h2>
      <form id="add-customer-form" enctype="multipart/form-data">
        <label>姓名：<input type="text" name="name" required></label><br>
        <label>身分證字號：<input type="text" name="idNumber" required></label><br>
        <label>手機號碼：<input type="text" name="phone" required></label><br>
        <label>戶籍地址：<input type="text" name="address" required></label><br>
        <label>現居地址：<input type="text" name="contactAddress" id="currentAddress"></label>
        <label><input type="checkbox" id="sameAsRegistered"> 同戶籍地址</label><br>

        <label>手機型號：
          <select name="model" required>
            <option>iPhone 12</option>
            <option>iPhone 12 mini</option>
            <option>iPhone 12 Pro</option>
            <option>iPhone 12 Pro Max</option>
            <option>iPhone 13</option>
            <option>iPhone 13 mini</option>
            <option>iPhone 13 Pro</option>
            <option>iPhone 13 Pro Max</option>
            <option>iPhone 14</option>
            <option>iPhone 14 Plus</option>
            <option>iPhone 14 Pro</option>
            <option>iPhone 14 Pro Max</option>
            <option>iPhone 15</option>
            <option>iPhone 15 Plus</option>
            <option>iPhone 15 Pro</option>
            <option>iPhone 15 Pro Max</option>
          </select>
        </label><br>
        <label>IMEI：<input type="text" name="imei" required></label><br>
        <label>序號：<input type="text" name="serialNumber" required></label><br>
        <label>買賣價：<input type="number" name="salePrice" required></label><br>
        <label>週租金：<input type="number" name="rent" required></label><br>
        <label>收款帳戶銀行：<input type="text" name="bank" required></label><br>
        <label>戶名：<input type="text" name="bankAccountName" required></label><br>
        <label>帳號：<input type="text" name="bankAccountNumber" required></label><br>
        <label>合約起始日：<input type="date" name="contractDate" required></label><br>
        <label>合約 PDF：<input type="file" name="contractFile" accept="application/pdf"></label><br>
        <label>身分證正面：<input type="file" name="idFront" accept="image/*"></label><br>
        <label>身分證反面：<input type="file" name="idBack" accept="image/*"></label><br>
        <button type="submit">送出新增</button>
      </form>
    </div>

    <!-- 編輯客戶 -->
    <div id="edit" class="page">
      <h2>編輯客戶資料</h2>
      <input type="text" id="searchKeyword" placeholder="輸入姓名或身分證字號">
      <button onclick="searchCustomer()">搜尋</button>
      <form id="edit-form" style="display:none;">
        <input type="hidden" name="id">
        <label>姓名：<input type="text" name="name" required></label>
        <label>身分證字號：<input type="text" name="idNumber" required></label>
        <label>手機號碼：<input type="text" name="phone" required></label>
        <label>戶籍地址：<input type="text" name="address" required></label>
        <label>現居地址：<input type="text" name="contactAddress"></label>
        <label>手機型號：<input type="text" name="model"></label>
        <label>IMEI：<input type="text" name="imei"></label>
        <label>序號：<input type="text" name="serialNumber"></label>
        <label>買賣價：<input type="number" name="salePrice"></label>
        <label>週租金：<input type="number" name="rent"></label>
        <label>收款帳戶銀行：<input type="text" name="bank"></label>
        <label>戶名：<input type="text" name="bankAccountName"></label>
        <label>帳號：<input type="text" name="bankAccountNumber"></label>
        <label>合約起始日：<input type="text" name="contractDate"></label>
        <button type="submit">確認修改</button>
      </form>
    </div>

    <!-- 合約產製 -->
    <div id="contract" class="page">
      <h2>合約產製（空白頁）</h2>
    </div>
  </div>

  <!-- 繳款彈窗 -->
  <div id="payment-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <h3>繳款紀錄</h3>
      <label>繳款金額：</label>
      <input type="number" id="payment-amount" placeholder="請輸入金額">
      <button id="submit-payment">確認繳款</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html> 
